<html>
  <head>
      <script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
      <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
      <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/react-router-dom/5.0.1/react-router-dom.js"></script>
      <script src="acme_user.js"></script>

  </head>

  <body>
    <div id = "root"></div>

    <script type = 'text/babel'>

      // Nav 3 pages - with Router
      // Class App
      // create render for the input form
      // create archive, unarchive and destroy buttons
      // create Create button

      // create state for our list
      //
      // generate fake user

      const { Component } = React;
      const { render } = ReactDOM;
      const { HashRouter, Switch, Link, Route, Redirect } = ReactRouterDOM;
      const root = document.querySelector('#root');
            
      const Nav = () => {
        return(
          <nav>
            <Link to = '/notes'> Notes </Link>
            <Link to = '/archive'> Archive </Link>
            <Link to = '/create'> Create </Link>
          </nav>
        )
      }


      class App extends Component{
        constructor (){
          super();
          this.state = {
            notes : [],
            userName : ''
          };
        }
        
        async componentDidMount(){
          const user = await fetchUser();
          const data = await axios.get(`${API}/users/${user.id}/notes`)
          const userName = user.fullName;
          this.setState({ userName });
        }
        
        render(){
          const { userName } = this.state;
          return(
            <div>
              <HashRouter>
                <Route component = { Nav } />
              </HashRouter>
              
              <h1> Acme Note - Taker { userName } </h1>
            </div>
          )

        }
      }


      render( <App />, root);

    </script>

  </body>
</html>
